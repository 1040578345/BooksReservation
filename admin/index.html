<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<title>书籍管理页面</title>
	<link rel="shortcut icon" href="../assets/pictures/icon.png">
	<link rel="stylesheet" href="../assets/css/materialize.min.css">
	<link rel="stylesheet" href="../assets/css/admin.css">
</head>

<body>
	<div class="loading" id="loading">
		<div class="preloader-wrapper active loading-circle">
			<div class="spinner-layer spinner-blue">
				<div class="circle-clipper left">
					<div class="circle"></div>
				</div>

				<div class="gap-patch">
					<div class="circle"></div>
				</div>

				<div class="circle-clipper right">
					<div class="circle"></div>
				</div>
			</div>

			<div class="spinner-layer spinner-red">
				<div class="circle-clipper left">
					<div class="circle"></div>
				</div>

				<div class="gap-patch">
					<div class="circle"></div>
				</div>

				<div class="circle-clipper right">
					<div class="circle"></div>
				</div>
			</div>

			<div class="spinner-layer spinner-yellow">
				<div class="circle-clipper left">
					<div class="circle"></div>
				</div>

				<div class="gap-patch">
					<div class="circle"></div>
				</div>

				<div class="circle-clipper right">
					<div class="circle"></div>
				</div>
			</div>

			<div class="spinner-layer spinner-green">
				<div class="circle-clipper left">
					<div class="circle"></div>
				</div>

				<div class="gap-patch">
					<div class="circle"></div>
				</div>

				<div class="circle-clipper right">
					<div class="circle"></div>
				</div>
			</div>
		</div>
	</div>

	<nav>
		<div class="nav-wrapper">
			<div class="brand-logo center">书籍信息</div>
			<a class="button-collapse" data-activates="mobile-menu">菜单</a>

			<ul class="right hide-on-med-and-down">
				<li><a href="#add">新增书籍</a></li>
				<li><a href="#update">更新书籍信息</a></li>
				<li><a href="./reservations">查看所有订单</a></li>
				<li><a href="#" onclick="logout(); return false;">退出管理系统</a></li>
			</ul>
			
			<ul class="side-nav" id="mobile-menu">
				<li><a href="#add">新增书籍</a></li>
				<li><a href="#update">更新书籍信息</a></li>
				<li><a href="./reservations">查看所有订单</a></li>
				<li><a href="#" onclick="logout(); return false;">退出管理系统</a></li>
			</ul>
		</div>
	</nav>

	<form class="row login" id="login">
		<div class="card-panel">	
			<div class="row center-align">
				<h5>管理员登录</h5>
			</div>
			
			<div class="row">
				<div class="input-field col s12">
					<input type="text" name="username" required>
					<label for="username">用户名</label>
				</div>
			</div>

			<div class="row">
				<div class="input-field col s12">
					<input type="password" name="password" required>
					<label for="password">密码</label>
				</div>
			</div>

			<div class="row center-align">
				<button type="submit" class="btn">登录</button>
			</div>
		</div>
	</form>

	<form class="modal" id="add">
		<div class="modal-content">
			<h5>新增书籍</h5>
			<div id="add-init">
				<div class="row">
					<div class="input-field col s12">
						<input type="text" id="ISBN" name="ISBN">
						<label for="ISBN">请输入待添加书籍的 ISBN</label>
					</div>					
				</div>

				<div class="center-align">
					<a class="waves-effect waves-light btn" onclick="getData();">获取书籍信息</a>
					<a class="waves-effect waves-light btn" onclick="inputData();">手动录入数据</a>
				</div>
			</div>

			<div class="progress" id="progress">
				<div class="indeterminate"></div>
			</div>

			<div class="center-align book-info" id="book-info">
				<div class="row">
					<div class="input-field col s5">
						<input type="text" id="title" name="title">
						<label for="title">书名</label>
					</div>

					<div class="input-field col s4">
						<input type="text" id="author" name="author">
						<label for="author">作者</label>
					</div>

					<div class="input-field col s3">
						<input type="checkbox" id="is-multiple-author" name="isMultipleAuthor">
						<label for="is-multiple-author">多作者</label>
					</div>
				</div>

				<div class="row">
					<div class="input-field col s7">
						<input type="text" id="press" name="press">
						<label for="press">出版社</label>
					</div>

					<div class="input-field col s5">
						<input type="text" id="pubdate" name="pubdate">
						<label for="pubdate">出版日期</label>
					</div>
				</div>

				<div class="row">
					<div class="input-field col s3">
						<input type="number" id="remaining-amount" name="remainingAmount">
						<label for="remaining-amount">数量</label>
					</div>

					<div class="input-field col s9">
						<input type="text" id="image" name="image" placeholder="https://upload.wikimedia.org/wikipedia/commons/2/2c/JZM1947.jpg">
						<label for="image">封面图片链接（参照下方示例，非必填项）</label>
					</div>
				</div>
			</div>

			<div class="book-category center-align" id="book-category">
				<p>请选择书籍分类：</p>
				<input type="radio" class="with-gap" id="categoryA" name="bookCategory" value="CategoryA" onclick="selectCategory(this.id);">
				<label for="categoryA">教材课本</label>

				<input type="radio" class="with-gap" id="categoryB" name="bookCategory" value="CategoryB" onclick="selectCategory(this.id);">
				<label for="categoryB">课外书籍</label>
			</div>

			<div class="book-categoryA" id="book-categoryA">
				<div class="row">
					<div class="input-field col s6 selection">
						<select id="grade" name="grade">
							<option value="" disabled selected>请选择年级：</option>
							<option value="不限">不限</option>
							<option value="大一">大一</option>
							<option value="大二">大二</option>
							<option value="大三">大三</option>
							<option value="大四">大四</option>
						</select>
					</div>

					<div class="input-field col s6 selection">
						<select id="major" name="major">
							<option value="" disabled selected>请选择专业：</option>
							<option value="不限">不限</option>
							<option value="计科">计科</option>
							<option value="信安">信安</option>
							<option value="网工">网工</option>
							<option value="计联计创">计联计创</option>
						</select>
					</div>
				</div>
			</div>

			<div class="book-categoryB" id="book-categoryB">
				<div class="row">
					<div class="input-field col s12 selection">
						<select id="extracurricular-category" name="extracurricularCategory">
							<option value="" disabled selected>请选择详细类别：</option>
							<option value="文学类书籍">文学类书籍</option>
							<option value="计算机专业类书籍">计算机专业类书籍</option>
							<option value="学习辅导资料">学习辅导资料</option>
							<option value="其它">其它</option>
						</select>
					</div>
				</div>
			</div>
		</div>

		<div class="modal-footer">
			<button type="submit" class="btn-flat">确认添加</button>
		</div>
	</form>

	<form class="modal" id="update">
		<div class="modal-content">
			<h5>书籍信息更新</h5>
			<div id="update-init">
				<div class="row">
					<div class="input-field col s12">
						<input type="text" id="bookID" name="bookID">
						<label for="bookID">请输入书籍 ID </label>
					</div>					
				</div>

				<div class="center-align">
					<a class="waves-effect waves-light btn" onclick="getBook();">更新书籍信息</a>
				</div>
			</div>

			<div class="progress" id="upd-progress">
				<div class="indeterminate"></div>
			</div>

			<div class="center-align upd-books" id="upd-books">
				<div class="row">
					<div class="input-field col s5">
						<input type="text" id="upd-title" name="updTitle">
						<label for="upd-title">书名</label>
					</div>

					<div class="input-field col s4">
						<input type="text" id="upd-author" name="updAuthor">
						<label for="upd-author">作者</label>
					</div>

					<div class="input-field col s3">
						<input type="checkbox" id="upd-is-multiple-author" name="updIsMultipleAuthor">
						<label for="upd-is-multiple-author">多位作者</label>
					</div>
				</div>

				<div class="row">
					<div class="input-field col s7">
						<input type="text" id="upd-press" name="updPress">
						<label for="upd-press">出版社</label>
					</div>

					<div class="input-field col s5">
						<input type="text" id="upd-pubdate" name="updPubdate">
						<label for="upd-pubdate">出版日期</label>
					</div>
				</div>

				<div class="row">
					<div class="input-field col s3">
						<input type="number" id="upd-remaining-amount" name="updRemainingAmount">
						<label for="upd-remaining-amount">数量</label>
					</div>

					<div class="input-field col s9">
						<input type="text" id="upd-image" name="updImage">
						<label for="upd-image">封面图片链接</label>
					</div>
				</div>

				<div class="center-align" id="upd-book-category">
					<p>请选择书籍分类：</p>
					<input type="radio" class="with-gap" id="upd-categoryA" name="updBookCategory" value="CategoryA" onclick="updCategory(this.id);">
					<label for="updCategoryA">教材课本</label>

					<input type="radio" class="with-gap" id="upd-categoryB" name="updBookCategory" value="CategoryB" onclick="updCategory(this.id);">
					<label for="updCategoryB">课外书籍</label>
				</div>

				<div id="upd-book-categoryA">
					<div class="row">
						<div class="input-field col s6 selection">
							<select id="upd-grade" name="updGrade">
								<option value="" disabled selected>请选择年级：</option>
								<option value="不限">不限</option>
								<option value="大一">大一</option>
								<option value="大二">大二</option>
								<option value="大三">大三</option>
								<option value="大四">大四</option>
							</select>
						</div>

						<div class="input-field col s6 selection">
							<select id="upd-major" name="updMajor">
								<option value="" disabled selected>请选择专业：</option>
								<option value="不限">不限</option>
								<option value="计科">计科</option>
								<option value="信安">信安</option>
								<option value="网工">网工</option>
								<option value="计联计创">计联计创</option>
							</select>
						</div>
					</div>
				</div>

				<div id="upd-book-categoryB">
					<div class="row">
						<div class="input-field col s12 selection">
							<select id="upd-extracurricular-category" name="updExtracurricularCategory">
								<option value="" disabled selected>请选择详细类别：</option>
								<option value="文学类书籍">文学类书籍</option>
								<option value="计算机专业类书籍">计算机专业类书籍</option>
								<option value="学习辅导资料">学习辅导资料</option>
								<option value="其它">其它</option>
							</select>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="modal-footer">
			<button type="submit" class="btn-flat">确认更新</button>
		</div>
	</form>

    <div id="books"></div>

	<div class="copyright">Copyright © 2017 <a href="https://github.com/KingsleyXie/BooksReservation">Kingsley</a></div>

	<script src="../assets/js/jquery.min.js"></script>
	<script src="../assets/js/materialize.min.js"></script>
	<script src="../assets/js/admin.js"></script>
</body>
</html>
